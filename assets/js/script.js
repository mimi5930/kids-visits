const g=document.getElementById("contact-form"),e=document.getElementById("email-input"),t=document.getElementById("text-submit"),m=document.getElementById("invalid-text"),r=document.getElementById("name-input"),n=document.getElementById("success-alert"),d=document.getElementById("danger-alert"),p=document.getElementById("success-close"),I=document.getElementById("danger-close"),i=document.getElementById("loading-spinner"),l=document.getElementById("form-submit"),h=document.getElementById("honey");async function L(s){n.classList.add("visually-hidden"),d.classList.add("visually-hidden");let c=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g,{classList:o}=e,{classList:y}=e,{classList:a}=t;if(s.preventDefault(),e.classList.remove("is-invalid","is-valid"),t.classList.remove("is-invalid","is-valid"),e.value)if(c.test(e.value))y.add("is-valid");else{m.textContent="Please enter a valid email address.",o.add("is-invalid");return}else{m.textContent="Please provide your email.",o.add("is-invalid");return}if(a.remove("is-invalid"),t.value)a.add("is-valid");else{a.add("is-invalid");return}try{i.classList.remove("visually-hidden"),l.disabled=!0,(await fetch("https://formsubmit.co/ajax/57875ae7624d79ca51cbb710062a4b69",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({_subject:"New KidsVisits Submission",_honey:h.value,name:r.value||"name not provided",email:e.value,text:t.value})})).ok&&n.classList.remove("visually-hidden"),i.classList.add("visually-hidden"),l.disabled=!1,b()}catch(u){i.classList.add("visually-hidden"),l.disabled=!1,d.classList.remove("visually-hidden"),console.log(u)}}function b(){r.value="",e.value="",t.value=""}function v(s){switch(s.target.id){case"success-close":n.classList.add("visually-hidden");break;case"danger-close":d.classList.add("visually-hidden");break}}g.addEventListener("submit",L);p.addEventListener("click",v);I.addEventListener("click",v);
